(function(n,t){function h(n,t){var r,i;if(!n.hasChildren())return angular.isDefined(n.state)&&t.includes(n.state);for(r=n.children(),i=0;i<r.length;i++)if(angular.isDefined(r[i].state)&&t.includes(r[i].state)||h(r[i],t))return!0;return!1}var u,i,r,f,e,c,l,o,s;t["eeh-navigation"]=n;angular.module("eehNavigation",["pascalprecht.translate"]);u=function(n){return{restrict:"A",scope:{menuItem:"=eehNavigationActiveMenuItem"},link:function(t,i){var r=function(){var r=h(t.menuItem,n);i.toggleClass("active",r)};t.$on("$stateChangeSuccess",r);r()}}};u.$inject=["$state"];angular.module("eehNavigation").directive("eehNavigationActiveMenuItem",u);i=function(n){this.weight=0;angular.extend(this,n)};i.prototype.children=function(){var n=[];return angular.forEach(this,function(t){angular.isObject(t)&&t instanceof i&&n.push(t)}),n};i.prototype.hasChildren=function(){return this.children().length>0};i.prototype._isVisible=function(){var n=this.children().filter(function(n){return n._isVisible()!==!1}).length>0;return!n&&angular.isUndefined(this.state)&&angular.isUndefined(this.href)&&angular.isUndefined(this.click)&&!this.isDivider?!1:angular.isFunction(this.isVisible)?this.isVisible():angular.isDefined(this.isVisible)?this.isVisible:!0};i.prototype.isVisible=function(){return!0};i.prototype.isHeavy=function(){if(this.hasOwnProperty("weight"))return this.weight>=0};r=function(){this._iconBaseClass="glyphicon";this._menuItems={};this._toArray=function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(n[i]);return t}};r.prototype.$get=function(){return this};r.prototype.iconBaseClass=function(n){return angular.isUndefined(n)?this._iconBaseClass:(this._iconBaseClass=n,this)};r.prototype.buildAncestorChain=function(n,t,i){var r=n.split("."),u;n.length!==0&&r.length!==0&&(u=r.shift(),angular.isUndefined(t[u])&&(t[u]=r.length===0?i:{},r.length===0&&(t[u]=i)),this.buildAncestorChain(r.join("."),t[u],i))};r.prototype.menuItemTree=function(n){var r={},u=this,t={},i;return angular.isDefined(n)?(i=new RegExp("^"+n+"."),angular.forEach(this._menuItems,function(n,r){r.match(i)!==null&&(t[r.replace(i,"")]=n)})):t=this._menuItems,angular.forEach(t,function(n,t){u.buildAncestorChain(t,r,n)}),this._toArray(r)};r.prototype.menuItem=function(n,t){if(angular.isUndefined(t)){if(angular.isUndefined(this._menuItems[n]))throw n+" is not a menu item";return this._menuItems[n]}return this._menuItems[n]=new i(t),this};r.prototype.menuItems=function(){return this._menuItems};angular.module("eehNavigation").provider("eehNavigation",r);f=function(n){return{restrict:"A",scope:{menuItem:"=eehNavigationMenuItemContent"},templateUrl:"template/eeh-navigation/menu-item-content/eeh-navigation-menu-item-content.html",link:function(t){t.iconBaseClass=function(){return n.iconBaseClass()}}}};f.$inject=["eehNavigation"];angular.module("eehNavigation").directive("eehNavigationMenuItemContent",f);e=function(n){return{restrict:"AE",templateUrl:"template/eeh-navigation/menu/eeh-navigation-menu.html",scope:{menuName:"=",navClass:"=?"},link:function(t){t.navClass=t.navClass||"navigation-menu";t.iconBaseClass=function(){return n.iconBaseClass()};t.$watch(n.menuItems,function(){angular.isUndefined(t.menuName)||(t.menuItems=n.menuItemTree(t.menuName))},!0)}}};e.$inject=["eehNavigation"];angular.module("eehNavigation").directive("eehNavigationMenu",e);c=function(){return{restrict:"AE",templateUrl:"template/eeh-navigation/navbar/eeh-navigation-navbar-brand.html",scope:{text:"=",state:"=",href:"=",target:"=",src:"=",click:"="}}};angular.module("eehNavigation").directive("eehNavigationNavbarBrand",c);l=function(n,t){return{restrict:"AE",templateUrl:"template/eeh-navigation/navbar/eeh-navigation-navbar.html",scope:{menuName:"=",navClass:"=?",brandText:"=",brandState:"=",brandHref:"=",brandTarget:"=",brandSrc:"=",brandClick:"="},link:function(i){var r,u;i.iconBaseClass=function(){return t.iconBaseClass()};i.navClass=i.navClass||"navbar-default navbar-static-top";i.isNavbarCollapsed=!1;i.$watch(t.menuItems,function(){if(!angular.isUndefined(i.menuName)){var n=t.menuItemTree(i.menuName);i.leftNavbarMenuItems=n.filter(function(n){return!n.isHeavy()});i.rightNavbarMenuItems=n.filter(function(n){return n.isHeavy()})}},!0);r=angular.element(n);r.bind("resize",function(){i.$apply()});u=function(){return{height:r.height(),width:r.width(),innerHeight:r.innerHeight(),innerWidth:r.innerWidth()}};i.$watch(u,function(t){if(!angular.isUndefined(t)){var r=t.innerWidth>0?t.innerWidth:n.screen.width;r>=768&&(i.isNavbarCollapsed=!1)}},!0)}}};angular.module("eehNavigation").directive("eehNavigationNavbar",["$window","eehNavigation",l]);o=function(n,t){return{restrict:"AE",transclude:!0,templateUrl:"template/eeh-navigation/search-input/eeh-navigation-search-input.html",scope:{iconClass:"=",submit:"=",classes:"=",isCollapsed:"="},link:function(n){n.model={query:""};n.iconBaseClass=function(){return t.iconBaseClass()}}}};o.$inject=["$window","eehNavigation"];angular.module("eehNavigation").directive("eehNavigationSearchInput",o);s=function(n,t,i){return{restrict:"AE",transclude:!0,templateUrl:"template/eeh-navigation/sidebar/eeh-navigation-sidebar.html",scope:{menuName:"=",navClass:"=?",topOffset:"=?",menuItemCollapsedIconClass:"=?",menuItemExpandedIconClass:"=?",sidebarCollapsedIconClass:"=?",sidebarExpandedIconClass:"=?",searchInputIconClass:"=?",searchInputIsVisible:"=?",searchInputSubmit:"=",sidebarCollapsedButtonIsVisible:"=?",sidebarIsCollapsed:"=?"},link:function(n,r){function s(){var t="ul.sidebar-nav:not(.sidebar-nav-nested) > li > a > ",e=t+"span > .menu-item-text",o=t+".sidebar-arrow",i=r.find(e+","+o),u=r.find(".eeh-navigation-sidebar");n.sidebarIsCollapsed?(f.addClass("sidebar-text-collapsed"),u.addClass("sidebar-text-collapsed"),i.addClass("hidden"),n.sidebarMenuItems.forEach(function(n){n.isCollapsed=!0})):(f.removeClass("sidebar-text-collapsed"),u.removeClass("sidebar-text-collapsed"),i.removeClass("hidden"))}var e,u,o,f;n.topOffset=n.topOffset||51;n.navClass=n.navClass||"navbar-default";n.menuItemCollapsedIconClass=n.menuItemCollapsedIconClass||"glyphicon-chevron-left";n.menuItemExpandedIconClass=n.menuItemExpandedIconClass||"glyphicon-chevron-down";n.sidebarCollapsedIconClass=n.sidebarCollapsedIconClass||"glyphicon-arrow-right";n.sidebarExpandedIconClass=n.sidebarExpandedIconClass||"glyphicon-arrow-left";n.searchInputIconClass=n.searchInputIconClass||"glyphicon-search";n.sidebarCollapsedButtonIsVisible!==!1&&(n.sidebarCollapsedButtonIsVisible=!0);n.sidebarIsCollapsed=n.sidebarIsCollapsed||!1;n.searchInputIsVisible!==!1&&(n.searchInputIsVisible=!0);n.iconBaseClass=function(){return i.iconBaseClass()};e=function(){return i.menuItems()};n.$watch(e,function(){angular.isUndefined(n.menuName)||(n.sidebarMenuItems=i.menuItemTree(n.menuName))},!0);u=angular.element(t);u.bind("resize",function(){n.$apply()});o=function(){return{height:u.height(),width:u.width(),innerHeight:u.innerHeight(),innerWidth:u.innerWidth()}};f=r.find("#eeh-navigation-page-wrapper");n.$watch(o,function(i){if(!angular.isUndefined(i)){var r=i.innerHeight>0?i.innerHeight:t.screen.height;r=r-n.topOffset;r<1&&(r=1);r>n.topOffset&&f.css("min-height",r+"px")}},!0);n.toggleSidebarTextCollapse=function(){n.sidebarIsCollapsed=!n.sidebarIsCollapsed;s();n.$broadcast("eehSidebarTextCollapseStateChanged")};n.$on("$includeContentLoaded",function(){s()});n.isSidebarVisible=function(){return n.searchInputIsVisible||angular.isArray(n.sidebarMenuItems)&&n.sidebarMenuItems.filter(function(n){return n._isVisible()}).length>0};n.topLevelMenuItemClickHandler=function(t){n.sidebarIsCollapsed&&t.hasChildren()&&n.sidebarMenuItems.filter(function(n){return n.hasChildren()&&t!==n}).forEach(function(n){n.isCollapsed=!0})}}}};s.$inject=["$document","$window","eehNavigation"];angular.module("eehNavigation").directive("eehNavigationSidebar",s)})({},function(){return this}());
//# sourceMappingURL=eeh-navigation.min.js.map
